@let cart = (cartService.cart$ | async); @if(cart && cart.total>0){
<h2>Kosár tartalma</h2>
<div class="row">
  <div class="col-12 col-md-8">
    <div class="table-responsive">
      <table class="table table-hover align-middle">
        <tbody>
          @for(item of cart.items ; track $index){ @if(item.customization){

          <tr>
            <td>
              <app-product-custom-viewer
                class="image"
                [selectedProperties]="item.customization"
                [textureFile]="item.textureFile!"
              ></app-product-custom-viewer>
            </td>

            <td>{{ item.name }}</td>
            <td>{{ item.price }}</td>
            <td>{{ item.quantity }} db</td>
            <td>{{ item.price * item.quantity }}</td>
            <td>
              <a (click)="removeItem($index)" class="btn btn-link">Törlés</a>
            </td>
          </tr>
          <tr>
            <td colspan="6">
              <span class="fw-bold">Módosítások</span>
              <div class="d-flex gap-2">
                @for(prop of item.customization;track $index){
                <span class="d-flex gap-2 align-items-center">
                  <span> {{ prop.title }} :</span>
                  <app-color [color]="prop.color"></app-color>
                </span>
                }
              </div>
            </td>
          </tr>
          }@else{
          <tr>
            <td>
              <img [src]="item.image" [alt]="item.name" class="image" />
            </td>

            <td>{{ item.name }}</td>
            <td>{{ item.price }}</td>
            <td>{{ item.quantity }} db</td>
            <td>{{ item.price * item.quantity }}</td>
            <td>
              <a (click)="removeItem($index)" class="btn btn-link">Törlés</a>
            </td>
          </tr>
          } }
        </tbody>
      </table>
    </div>
  </div>
  <div class="col-12 col-md-4">
    <div class="card p-2">
      <div class="card-body">
        <h3>Összegzés</h3>
        <p>Összesen: {{ cart.total }}</p>
      </div>
      <div class="card-actions text-end">
        <button class="btn btn-success">Megrendelés</button>
      </div>
    </div>
  </div>
</div>
} @else {
<h2 class="text-center p-5">A kosár tartalma üres</h2>
}
